[gd_scene load_steps=12 format=3 uid="uid://wr5js58px6vl"]

[ext_resource type="Script" path="res://scripts/projectiles/grenade.gd" id="1_5sism"]
[ext_resource type="Texture2D" uid="uid://debry4org4rkr" path="res://src/graphics/projectiles/grenade.png" id="1_8s5jo"]
[ext_resource type="Texture2D" uid="uid://bihr0oiee37ys" path="res://src/graphics/lights/textures/circle.png" id="3_57w8w"]
[ext_resource type="Texture2D" uid="uid://e8q7umgoy8mk" path="res://src/graphics/explosions/explosion_2.png" id="4_gmgtq"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_xd2of"]
friction = 10.0
bounce = 0.81

[sub_resource type="CircleShape2D" id="CircleShape2D_ddutn"]
radius = 16.0

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_2ac18"]
polygon = PackedVector2Array(36, -70.5, 36, -69.1, 55, -57.1, 55, -55.7, 69, -38, 73.9, -38, 79, -31.9, 79, 15.7, 75.6, 31, 74.2, 31, 65.2, 49, 63.9, 49, 42.9, 72, 40.5, 72, 33.3, 76, -20, 76, -37, 70.5, -37, 69.1, -52, 60.1, -52, 58.8, -63.8, 47, -69, 47, -69, 44.6, -79, 29.1, -79, -18, -74.6, -36, -73.1, -36, -64.1, -51, -62.9, -51, -52, -61, -52, -66.7, -48, -72, -45.7, -72, -40.7, -76, -34.7, -76, -30.7, -74.7, -24.4, -76, 18.6, -76)

[sub_resource type="Animation" id="Animation_3hgdc"]
resource_name = "explosion"
length = 1.89
step = 0.03
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Explosion2:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.03, 0.06, 0.09, 0.12, 0.15, 0.18, 0.21, 0.24, 0.27, 0.3, 0.33, 0.36, 0.39, 0.42, 0.45, 0.48, 0.51, 0.54, 0.57, 0.6, 0.63, 0.66, 0.69, 0.72, 0.75, 0.78, 0.81, 0.84, 0.87, 0.9, 0.93, 0.96, 0.99, 1.02, 1.05, 1.08, 1.11, 1.14, 1.17, 1.2, 1.23, 1.26, 1.29, 1.32, 1.35, 1.38, 1.41, 1.44, 1.47, 1.5, 1.53, 1.56, 1.59, 1.62, 1.65, 1.68, 1.71, 1.74, 1.77, 1.8, 1.83, 1.86),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.86),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"queue_free"
}]
}

[sub_resource type="Animation" id="Animation_wnjsd"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Explosion2:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("PointLight2D2:energy")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [1.0]
}

[sub_resource type="Animation" id="Animation_8k0bv"]
resource_name = "Blinking"
length = 2.0
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("PointLight2D2:energy")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1, 1.1, 1.2, 1.3, 1.4, 1.5, 1.6, 1.7, 1.8, 1.89),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [1.0, 1.0, 1.0, 9.0, 12.0, 15.0, 18.0, 12.0, 6.0, 0.0, 3.0, 6.0, 9.0, 12.0, 15.0, 18.0, 12.0, 0.0, 3.0, 0.0]
}
tracks/1/type = "method"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(1.9),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"explode"
}]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_un6i0"]
_data = {
"Blinking": SubResource("Animation_8k0bv"),
"RESET": SubResource("Animation_wnjsd"),
"explosion": SubResource("Animation_3hgdc")
}

[node name="Grenade" type="RigidBody2D"]
collision_layer = 8
collision_mask = 15
physics_material_override = SubResource("PhysicsMaterial_xd2of")
gravity_scale = 0.0
linear_damp = 1.6
script = ExtResource("1_5sism")
metadata/_edit_group_ = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_ddutn")

[node name="Sprite2D" type="Sprite2D" parent="."]
scale = Vector2(0.2, 0.2)
texture = ExtResource("1_8s5jo")

[node name="PointLight2D" type="PointLight2D" parent="."]
energy = 3.54
shadow_enabled = true
texture = ExtResource("3_57w8w")

[node name="LightOccluder2D2" type="LightOccluder2D" parent="."]
scale = Vector2(0.2, 0.2)
occluder = SubResource("OccluderPolygon2D_2ac18")

[node name="Explosion2" type="Sprite2D" parent="."]
position = Vector2(-2, 2)
scale = Vector2(2, 2)
texture = ExtResource("4_gmgtq")
hframes = 8
vframes = 8

[node name="PointLight2D2" type="PointLight2D" parent="."]
color = Color(0.839216, 0, 0.0745098, 1)
texture = ExtResource("3_57w8w")
texture_scale = 0.05

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_un6i0")
}
autoplay = "Blinking"

[node name="Timer" type="Timer" parent="."]
wait_time = 1.89
one_shot = true

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
